{"version":3,"sources":["Active.tsx"],"sourcesContent":["import React from 'react';\n\nimport { useEvent } from 'react-dom-event';\n\n// @ts-ignore\nimport ActiveBase from './lib/ActiveBase.tsx';\n\nfunction ActiveComponent({ isActive, setIsActive, children, ...rest }) {\n  const ref = React.useRef<HTMLElement>(null);\n\n  useEvent(\n    (event) => {\n      if (!isActive) return;\n      if (ref.current && ref.current.contains(event.target)) return;\n      setIsActive(false);\n    },\n    [isActive, setIsActive],\n  );\n\n  return (\n    <ActiveBase\n      isActive={isActive}\n      setIsActive={setIsActive}\n      ref={ref}\n      {...rest}\n    >\n      {children}\n    </ActiveBase>\n  );\n}\n\nexport default function Active({ children, ...rest }) {\n  const state = React.useState<boolean>(false);\n  const isActive = state[0];\n  const setIsActive = state[1];\n  const Component = isActive ? ActiveComponent : ActiveBase;\n  return (\n    <Component {...rest} isActive={isActive} setIsActive={setIsActive}>\n      {React.Children.map<React.ReactNode, React.ReactNode>(children, (child) =>\n        React.isValidElement(child)\n          ? React.cloneElement(child, { isActive, setIsActive })\n          : child,\n      )}\n    </Component>\n  );\n}\n"],"names":["React","useEvent","ActiveBase","ActiveComponent","isActive","setIsActive","children","rest","ref","useRef","event","current","contains","target","Active","state","useState","Component","Children","map","child","isValidElement","cloneElement"],"mappings":"AAAA;;;;;;;;;;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO,CAAC;AAE1B,SAASC,QAAQ,QAAQ,iBAAiB,CAAC;AAE3C,aAAa;AACb,OAAOC,UAAU,MAAM,sBAAsB,CAAC;AAE9C,SAASC,eAAe,CAAC,EAAEC,QAAQ,CAAA,EAAEC,WAAW,CAAA,EAAEC,QAAQ,CAAA,EAAE,GAAGC,IAAI,EAAE,EAAE;IACrE,MAAMC,GAAG,GAAGR,KAAK,CAACS,MAAM,CAAc,IAAI,CAAC,AAAC;IAE5CR,QAAQ,CACN,CAACS,KAAK,GAAK;QACT,IAAI,CAACN,QAAQ,EAAE,OAAO;QACtB,IAAII,GAAG,CAACG,OAAO,IAAIH,GAAG,CAACG,OAAO,CAACC,QAAQ,CAACF,KAAK,CAACG,MAAM,CAAC,EAAE,OAAO;QAC9DR,WAAW,CAAC,KAAK,CAAC,CAAC;KACpB,EACD;QAACD,QAAQ;QAAEC,WAAW;KAAC,CACxB,CAAC;IAEF,qBACE,oBAACH,UAAU;QACTE,QAAQ,EAAEA,QAAQ;QAClBC,WAAW,EAAEA,WAAW;QACxBG,GAAG,EAAEA,GAAG;OACJD,IAAI,GAEPD,QAAQ,CACE,CACb;CACH;AAED,eAAe,SAASQ,MAAM,CAAC,EAAER,QAAQ,CAAA,EAAE,GAAGC,IAAI,EAAE,EAAE;IACpD,MAAMQ,KAAK,GAAGf,KAAK,CAACgB,QAAQ,CAAU,KAAK,CAAC,AAAC;IAC7C,MAAMZ,QAAQ,GAAGW,KAAK,CAAC,CAAC,CAAC,AAAC;IAC1B,MAAMV,WAAW,GAAGU,KAAK,CAAC,CAAC,CAAC,AAAC;IAC7B,MAAME,SAAS,GAAGb,QAAQ,GAAGD,eAAe,GAAGD,UAAU,AAAC;IAC1D,qBACE,oBAACe,SAAS,eAAKV,IAAI;QAAEH,QAAQ,EAAEA,QAAQ;QAAEC,WAAW,EAAEA,WAAW;QAC9DL,KAAK,CAACkB,QAAQ,CAACC,GAAG,CAAmCb,QAAQ,EAAE,CAACc,KAAK,iBACpEpB,KAAK,CAACqB,cAAc,CAACD,KAAK,CAAC,iBACvBpB,KAAK,CAACsB,YAAY,CAACF,KAAK,EAAE;YAAEhB,QAAQ;YAAEC,WAAW;SAAE,CAAC,GACpDe,KAAK,CACV,CACS,CACZ;CACH,CAAA"}