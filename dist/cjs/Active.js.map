{"version":3,"sources":["Active.ts"],"sourcesContent":["import { Children, Fragment, cloneElement, createElement, isValidElement, useRef, useState } from 'react';\nimport type { ReactElement, ReactNode } from 'react';\nimport { useEvent } from 'react-dom-event';\n\nexport default function Active({ children }) {\n  const state = useState<boolean>(false);\n  const isActive = state[0];\n  const setIsActive = state[1];\n  const ref = useRef<HTMLElement>(null);\n  useEvent(\n    (event) => {\n      if (!isActive) return;\n      if (ref.current?.contains(event.target)) return;\n      setIsActive(false);\n    },\n    [isActive, setIsActive],\n  );\n\n  return createElement(\n    Fragment,\n    null,\n    Children.map<ReactNode, ReactNode>(children, (child) =>\n      isValidElement(child)\n        ? // biome-ignore lint/suspicious/noExplicitAny: <explanation>\n          cloneElement(child as ReactElement<any>, {\n            isActive,\n            setIsActive,\n            ref,\n          })\n        : child,\n    ),\n  );\n}\n"],"names":["Active","children","state","useState","isActive","setIsActive","ref","useRef","useEvent","event","current","contains","target","createElement","Fragment","Children","map","child","isValidElement","cloneElement"],"mappings":"AAAA;;;;+BAIA,SA4BC;;;eA5BuBA,MAAM;;;qBAJoE,OAAO;6BAEhF,iBAAiB;AAE3B,SAASA,MAAM,CAAC,KAAY,EAAE;QAAd,AAAEC,QAAQ,GAAV,KAAY,CAAVA,QAAQ,AAAE;IACzC,IAAMC,KAAK,GAAGC,IAAAA,MAAQ,SAAA,EAAU,KAAK,CAAC,AAAC;IACvC,IAAMC,QAAQ,GAAGF,KAAK,CAAC,CAAC,CAAC,AAAC;IAC1B,IAAMG,WAAW,GAAGH,KAAK,CAAC,CAAC,CAAC,AAAC;IAC7B,IAAMI,GAAG,GAAGC,IAAAA,MAAM,OAAA,EAAc,IAAI,CAAC,AAAC;IACtCC,IAAAA,cAAQ,SAAA,EACN,SAACC,KAAK,EAAK;YAELH,IAAW;QADf,IAAI,CAACF,QAAQ,EAAE,OAAO;QACtB,IAAIE,CAAAA,IAAW,GAAXA,GAAG,CAACI,OAAO,cAAXJ,IAAW,WAAU,GAArBA,KAAAA,CAAqB,GAArBA,IAAW,CAAEK,QAAQ,CAACF,KAAK,CAACG,MAAM,CAAC,EAAE,OAAO;QAChDP,WAAW,CAAC,KAAK,CAAC,CAAC;KACpB,EACD;QAACD,QAAQ;QAAEC,WAAW;KAAC,CACxB,CAAC;IAEF,OAAOQ,IAAAA,MAAa,cAAA,EAClBC,MAAQ,SAAA,EACR,IAAI,EACJC,MAAQ,SAAA,CAACC,GAAG,CAAuBf,QAAQ,EAAE,SAACgB,KAAK;eACjDC,IAAAA,MAAc,eAAA,EAACD,KAAK,CAAC,GAEjBE,IAAAA,MAAY,aAAA,EAACF,KAAK,EAAuB;YACvCb,QAAQ,EAARA,QAAQ;YACRC,WAAW,EAAXA,WAAW;YACXC,GAAG,EAAHA,GAAG;SACJ,CAAC,GACFW,KAAK;KAAA,CACV,CACF,CAAC;CACH"}