{"version":3,"file":"react-dom-outside.js","sources":["../../src/lib/ActiveBase.tsx","../../src/ActiveBoundary.tsx","../../src/Active.tsx"],"sourcesContent":["import React from 'react';\n\ntype ActiveBaseProps = {\n  isActive: boolean,\n  setIsActive: React.Dispatch<React.SetStateAction<boolean>>,\n  children?: React.ReactNode,\n  style?: object,\n}\n\nconst ActiveBase = React.forwardRef(({ isActive, setIsActive, children, style, ...rest }: ActiveBaseProps, ref: React.Ref<HTMLDivElement>) => {\n  return (\n    <div\n      {...rest}\n      ref={ref}\n      style={{ flex: 1, ...(style || {}) }}\n      onClick={(event) => {\n        event.stopPropagation();\n        setIsActive(!isActive);\n      }}\n    >\n      {children}\n    </div>\n  );\n});\nexport default ActiveBase;\n","import React from 'react';\n\nimport { useEvent } from 'react-dom-event';\nimport { BoundaryProvider, useBoundary, useRef } from 'react-ref-boundary';\n\n// @ts-ignore\nimport ActiveBase from './lib/ActiveBase.tsx';\n\nfunction ActiveComponent({ isActive, setIsActive, children, ...rest }) {\n  const ref = useRef<HTMLElement>(null);\n  const boundary = useBoundary();\n\n  useEvent(\n    (event) => {\n      if (isActive && !boundary.refs.some((x: React.RefObject<HTMLElement>) => x.current && x.current.contains(event.target))) setIsActive(false);\n    },\n    [isActive, setIsActive]\n  );\n\n  return (\n    <ActiveBase isActive={isActive} setIsActive={setIsActive} ref={ref} {...rest}>\n      {children}\n    </ActiveBase>\n  );\n}\n\nexport default function ActiveBoundaryNative({ children, ...rest }) {\n  const [isActive, setIsActive] = React.useState(false);\n  const Component = isActive ? ActiveComponent : ActiveBase;\n  return (\n    <BoundaryProvider>\n      <Component {...rest} isActive={isActive} setIsActive={setIsActive}>\n      {React.Children.map<React.ReactNode, React.ReactNode>(children, (child) => (React.isValidElement(child) ? React.cloneElement(child, { isActive, setIsActive }) : child))}\n      </Component>\n    </BoundaryProvider>\n  );\n}\n","import React from 'react';\n\nimport { useEvent } from 'react-dom-event';\n\n// @ts-ignore\nimport ActiveBase from './lib/ActiveBase.tsx';\n\nfunction ActiveComponent({ isActive, setIsActive, children, ...rest }) {\n  const ref = React.useRef<HTMLElement>(null);\n\n  useEvent(\n    (event) => {\n      if (isActive && !(ref.current && ref.current.contains(event.target))) setIsActive(false);\n    },\n    [isActive, setIsActive]\n  );\n\n  return (\n    <ActiveBase isActive={isActive} setIsActive={setIsActive} ref={ref} {...rest}>\n      {children}\n    </ActiveBase>\n  );\n}\n\nexport default function Active({ children, ...rest }) {\n  const state = React.useState<boolean>(false);\n  const isActive = state[0]\n  const setIsActive = state[1]\n  const Component = isActive ? ActiveComponent : ActiveBase;\n  return (\n    <Component {...rest} isActive={isActive} setIsActive={setIsActive}>\n      {React.Children.map<React.ReactNode, React.ReactNode>(children, (child) => (React.isValidElement(child) ? React.cloneElement(child, { isActive, setIsActive }) : child))}\n    </Component>\n  );\n}\n"],"names":["ActiveBase","React","forwardRef","ref","isActive","setIsActive","children","style","rest","_objectWithoutProperties","div","_extends","flex","onClick","event","stopPropagation","ActiveComponent","useRef","boundary","useBoundary","useEvent","refs","some","x","current","contains","target","ActiveBoundaryNative","useState","Component","BoundaryProvider","Children","map","child","isValidElement","cloneElement","Active","state"],"mappings":"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"}