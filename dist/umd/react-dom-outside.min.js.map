{"version":3,"file":"react-dom-outside.min.js","sources":["../../src/lib/ActiveBase.tsx","../../src/ActiveBoundary.tsx","../../src/Active.tsx"],"sourcesContent":["import React from 'react';\n\ntype ActiveBaseProps = {\n  isActive: boolean,\n  setIsActive: React.Dispatch<React.SetStateAction<boolean>>,\n  children?: React.ReactNode,\n  style?: object,\n}\n\nconst ActiveBase = React.forwardRef(({ isActive, setIsActive, children, style, ...rest }: ActiveBaseProps, ref: React.Ref<HTMLDivElement>) => {\n  return (\n    <div\n      {...rest}\n      ref={ref}\n      style={{ flex: 1, ...(style || {}) }}\n      onClick={(event) => {\n        event.stopPropagation();\n        setIsActive(!isActive);\n      }}\n    >\n      {children}\n    </div>\n  );\n});\nexport default ActiveBase;\n","import React from 'react';\n\nimport { useEvent } from 'react-dom-event';\nimport { BoundaryProvider, useBoundary, useRef } from 'react-ref-boundary';\n\n// @ts-ignore\nimport ActiveBase from './lib/ActiveBase.tsx';\n\nfunction ActiveComponent({ isActive, setIsActive, children, ...rest }) {\n  const ref = useRef<HTMLElement>(null);\n  const boundary = useBoundary();\n\n  useEvent(\n    (event) => {\n      if (isActive && !boundary.refs.some((x: React.RefObject<HTMLElement>) => x.current && x.current.contains(event.target))) setIsActive(false);\n    },\n    [isActive, setIsActive]\n  );\n\n  return (\n    <ActiveBase isActive={isActive} setIsActive={setIsActive} ref={ref} {...rest}>\n      {children}\n    </ActiveBase>\n  );\n}\n\nexport default function ActiveBoundaryNative({ children, ...rest }) {\n  const [isActive, setIsActive] = React.useState(false);\n  const Component = isActive ? ActiveComponent : ActiveBase;\n  return (\n    <BoundaryProvider>\n      <Component {...rest} isActive={isActive} setIsActive={setIsActive}>\n      {React.Children.map<React.ReactNode, React.ReactNode>(children, (child) => (React.isValidElement(child) ? React.cloneElement(child, { isActive, setIsActive }) : child))}\n      </Component>\n    </BoundaryProvider>\n  );\n}\n","import React from 'react';\n\nimport { useEvent } from 'react-dom-event';\n\n// @ts-ignore\nimport ActiveBase from './lib/ActiveBase.tsx';\n\nfunction ActiveComponent({ isActive, setIsActive, children, ...rest }) {\n  const ref = React.useRef<HTMLElement>(null);\n\n  useEvent(\n    (event) => {\n      if (isActive && !(ref.current && ref.current.contains(event.target))) setIsActive(false);\n    },\n    [isActive, setIsActive]\n  );\n\n  return (\n    <ActiveBase isActive={isActive} setIsActive={setIsActive} ref={ref} {...rest}>\n      {children}\n    </ActiveBase>\n  );\n}\n\nexport default function Active({ children, ...rest }) {\n  const state = React.useState<boolean>(false);\n  const isActive = state[0]\n  const setIsActive = state[1]\n  const Component = isActive ? ActiveComponent : ActiveBase;\n  return (\n    <Component {...rest} isActive={isActive} setIsActive={setIsActive}>\n      {React.Children.map<React.ReactNode, React.ReactNode>(children, (child) => (React.isValidElement(child) ? React.cloneElement(child, { isActive, setIsActive }) : child))}\n    </Component>\n  );\n}\n"],"names":["_defineProperty","obj","key","value","ActiveBase","React","forwardRef","_param","ref","isActive","setIsActive","children","style","rest","_objectWithoutProperties","createElement","div","_extends","_objectSpread","flex","onClick","event","stopPropagation","_arrayLikeToArray","arr","len","ActiveComponent","useRef","boundary","useBoundary","useEvent","refs","some","x","current","contains","target","state","useState","Component","Children","map","child","isValidElement","cloneElement","BoundaryProvider"],"mappings":"ofAAA,SAAAA,EAAAC,EAAAC,EAAAC,q/BASA,IAAMC,EAAaC,EAAAA,QAAMC,YAAW,SAAAC,EAAuEC,GAApEC,IAAAA,EAAAA,EAAAA,SAAUC,IAAAA,YAAaC,EAAQJ,EAARI,SAAUC,EAAAA,EAAAA,MAAUC,EAAIC,EAAAP,EAAA,CAA/CE,WAAUC,cAAaC,WAAUC,UACtE,OACEP,EAAAA,QAAAU,cAACC,MAAGC,EAAA,GACEJ,EAAI,CACRL,IAAKA,EACLI,MAAOM,EAAA,CAAEC,KAAM,GAAOP,GAAS,IAC/BQ,QAAS,SAACC,GACRA,EAAMC,kBACNZ,GAAaD,MAGdE,MCpBP,SAAAY,EAAAC,EAAAC,mgDAQA,SAASC,EAAgBnB,GAAEE,IAAAA,EAAFF,EAAEE,SAAUC,EAAZH,EAAYG,YAAaC,EAAzBJ,EAAyBI,SAAaE,IAAtCN,EAA4C,CAA1CE,WAAUC,cAAaC,aAC1CH,EAAMmB,SAAoB,MAC1BC,EAAWC,EAAAA,cASjB,OAPAC,EAAQA,UACN,SAACT,GACKZ,IAAamB,EAASG,KAAKC,MAAK,SAACC,GAAoCA,OAAAA,EAAEC,SAAWD,EAAEC,QAAQC,SAASd,EAAMe,YAAU1B,GAAY,KAEvI,CAACD,EAAUC,IAIXL,wBAACD,EAAUa,EAAA,CAACR,SAAUA,EAAUC,YAAaA,EAAaF,IAAKA,GAASK,GACrEF,GCrBP,SAAAM,2jBAOA,SAASS,EAAgBnB,GAAEE,IAAAA,EAAFF,EAAEE,SAAUC,EAAZH,EAAYG,YAAaC,EAAzBJ,EAAyBI,SAAaE,IAAtCN,EAA4C,CAA1CE,WAAUC,cAAaC,aAC1CH,EAAMH,EAAAA,QAAMsB,OAAoB,MAStC,OAPAG,EAAQA,UACN,SAACT,IACKZ,GAAcD,EAAI0B,SAAW1B,EAAI0B,QAAQC,SAASd,EAAMe,SAAU1B,GAAY,KAEpF,CAACD,EAAUC,IAIXL,wBAACD,EAAUa,EAAA,CAACR,SAAUA,EAAUC,YAAaA,EAAaF,IAAKA,GAASK,GACrEF,YAKQ,SAAgBJ,GAAEI,IAAAA,EAAFJ,EAAEI,SAAaE,IAAfN,EAAqB,CAAnBI,aACzB0B,EAAQhC,EAAAA,QAAMiC,UAAkB,GAChC7B,EAAW4B,EAAM,GACjB3B,EAAc2B,EAAM,GACpBE,EAAY9B,EAAWiB,EAAkBtB,EAC/C,OACEC,EAAAA,QAAAU,cAACwB,EAAStB,EAAA,GAAKJ,EAAI,CAAEJ,SAAUA,EAAUC,YAAaA,IACnDL,EAAK,QAACmC,SAASC,IAAsC9B,GAAU,SAAC+B,UAAWrC,EAAAA,QAAMsC,eAAeD,GAASrC,EAAK,QAACuC,aAAaF,EAAO,CAAEjC,SAAAA,EAAUC,YAAAA,IAAiBgC,wBDLxJ,SAA8BnC,GAAEI,IAAAA,EAAFJ,EAAEI,SAAaE,IAAfN,EAAqB,CAAnBI,aACbN,EAAAA,EAAAA,EAAAA,QAAMiC,UAAS,GAAM,GAA9C7B,EAAyBJ,EAAjB,GAAEK,EAAeL,KAC1BkC,EAAY9B,EAAWiB,EAAkBtB,EAC/C,OACEC,wBAACwC,EAAgBA,iBAAA,KACfxC,EAAAA,QAACkC,cAAAA,OAAc1B,EAAI,CAAEJ,SAAUA,EAAUC,YAAaA,IACrDL,EAAK,QAACmC,SAASC,IAAsC9B,GAAU,SAAC+B,UAAWrC,EAAAA,QAAMsC,eAAeD,GAASrC,EAAK,QAACuC,aAAaF,EAAO,CAAEjC,SAAAA,EAAUC,YAAAA,IAAiBgC"}